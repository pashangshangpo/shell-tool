!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("assert"),require("util"),require("events"),require("path"),require("fs"),require("os"),require("net")):"function"==typeof define&&define.amd?define(["exports","assert","util","events","path","fs","os","net"],e):e(t.shellTool={},t.assert,t.util,t.events,t.Path,t.Fs,t.Os,t.Net)}(this,function(t,e,r,n,i,o,a,s){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,r=r&&r.hasOwnProperty("default")?r.default:r,n=n&&n.hasOwnProperty("default")?n.default:n;var c="default"in i?i.default:i;o=o&&o.hasOwnProperty("default")?o.default:o,a=a&&a.hasOwnProperty("default")?a.default:a,s=s&&s.hasOwnProperty("default")?s.default:s;var h=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t};var u=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){h(t,e,r[e])})}return t};function l(t,e){return t(e={exports:{}},e.exports),e.exports}var f="win32"===process.platform,p=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function d(t){return"function"==typeof t?t:function(){var t;if(p){var e=new Error;t=function(t){t&&(e.message=t.message,r(t=e))}}else t=r;return t;function r(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}c.normalize;if(f)var g=/(.*?)(?:[\/\\]+|$)/g;else g=/(.*?)(?:[\/]+|$)/g;if(f)var v=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else v=/^[\/]*/;var y={realpathSync:function(t,e){if(t=c.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var r,n,i,a,s=t,h={},u={};function l(){var e=v.exec(t);r=e[0].length,n=e[0],i=e[0],a="",f&&!u[i]&&(o.lstatSync(i),u[i]=!0)}for(l();r<t.length;){g.lastIndex=r;var p=g.exec(t);if(a=n,n+=p[0],i=a+p[1],r=g.lastIndex,!(u[i]||e&&e[i]===i)){var d;if(e&&Object.prototype.hasOwnProperty.call(e,i))d=e[i];else{var y=o.lstatSync(i);if(!y.isSymbolicLink()){u[i]=!0,e&&(e[i]=i);continue}var m=null;if(!f){var b=y.dev.toString(32)+":"+y.ino.toString(32);h.hasOwnProperty(b)&&(m=h[b])}null===m&&(o.statSync(i),m=o.readlinkSync(i)),d=c.resolve(a,m),e&&(e[i]=d),f||(h[b]=m)}t=c.resolve(d,t.slice(r)),l()}}return e&&(e[s]=t),t},realpath:function(t,e,r){if("function"!=typeof r&&(r=d(e),e=null),t=c.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(r.bind(null,null,e[t]));var n,i,a,s,h=t,u={},l={};function p(){var e=v.exec(t);n=e[0].length,i=e[0],a=e[0],s="",f&&!l[a]?o.lstat(a,function(t){if(t)return r(t);l[a]=!0,y()}):process.nextTick(y)}function y(){if(n>=t.length)return e&&(e[h]=t),r(null,t);g.lastIndex=n;var c=g.exec(t);return s=i,i+=c[0],a=s+c[1],n=g.lastIndex,l[a]||e&&e[a]===a?process.nextTick(y):e&&Object.prototype.hasOwnProperty.call(e,a)?w(e[a]):o.lstat(a,m)}function m(t,n){if(t)return r(t);if(!n.isSymbolicLink())return l[a]=!0,e&&(e[a]=a),process.nextTick(y);if(!f){var i=n.dev.toString(32)+":"+n.ino.toString(32);if(u.hasOwnProperty(i))return b(null,u[i],a)}o.stat(a,function(t){if(t)return r(t);o.readlink(a,function(t,e){f||(u[i]=e),b(t,e)})})}function b(t,n,i){if(t)return r(t);var o=c.resolve(s,n);e&&(e[i]=o),w(o)}function w(e){t=c.resolve(e,t.slice(n)),p()}p()}},m=k;k.realpath=k,k.sync=j,k.realpathSync=j,k.monkeypatch=function(){o.realpath=k,o.realpathSync=j},k.unmonkeypatch=function(){o.realpath=b,o.realpathSync=w};var b=o.realpath,w=o.realpathSync,O=process.version,_=/^v[0-5]\./.test(O);function E(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function k(t,e,r){if(_)return b(t,e,r);"function"==typeof e&&(r=e,e=null),b(t,e,function(n,i){E(n)?y.realpath(t,e,r):r(n,i)})}function j(t,e){if(_)return w(t,e);try{return w(t,e)}catch(r){if(E(r))return y.realpathSync(t,e);throw r}}var x=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);S(i)?r.push.apply(r,i):r.push(i)}return r},S=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},A=L;function L(t,e,r){t instanceof RegExp&&(t=P(t,r)),e instanceof RegExp&&(e=P(e,r));var n=I(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function P(t,e){var r=e.match(t);return r?r[0]:null}function I(t,e,r){var n,i,o,a,s,c=r.indexOf(t),h=r.indexOf(e,c+1),u=c;if(c>=0&&h>0){for(n=[],o=r.length;u>=0&&!s;)u==c?(n.push(u),c=r.indexOf(t,u+1)):1==n.length?s=[n.pop(),h]:((i=n.pop())<o&&(o=i,a=h),h=r.indexOf(e,u+1)),u=c<h&&c>=0?c:h;n.length&&(s=[o,a])}return s}L.range=I;var R=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,r){var n=[];var i=A("{","}",e);if(!i||/\$$/.test(i.pre))return[e];var o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body);var a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body);var s=o||a;var c=i.body.indexOf(",")>=0;if(!s&&!c)return i.post.match(/,.*\}/)?(e=i.pre+"{"+i.body+T+i.post,t(e)):[e];var h;if(s)h=i.body.split(/\.\./);else if(1===(h=function t(e){if(!e)return[""];var r=[];var n=A("{","}",e);if(!n)return e.split(",");var i=n.pre;var o=n.body;var a=n.post;var s=i.split(",");s[s.length-1]+="{"+o+"}";var c=t(a);a.length&&(s[s.length-1]+=c.shift(),s.push.apply(s,c));r.push.apply(r,s);return r}(i.body)).length&&1===(h=t(h[0],!1).map($)).length){var u=i.post.length?t(i.post,!1):[""];return u.map(function(t){return i.pre+h[0]+t})}var l=i.pre;var u=i.post.length?t(i.post,!1):[""];var f;if(s){var p=F(h[0]),d=F(h[1]),g=Math.max(h[0].length,h[1].length),v=3==h.length?Math.abs(F(h[2])):1,y=B,m=d<p;m&&(v*=-1,y=Q);var b=h.some(q);f=[];for(var w=p;y(w,d);w+=v){var O;if(a)"\\"===(O=String.fromCharCode(w))&&(O="");else if(O=String(w),b){var _=g-O.length;if(_>0){var E=new Array(_+1).join("0");O=w<0?"-"+E+O.slice(1):E+O}}f.push(O)}}else f=x(h,function(e){return t(e,!1)});for(var k=0;k<f.length;k++)for(var j=0;j<u.length;j++){var S=l+f[k]+u[j];(!r||s||S)&&n.push(S)}return n}(function(t){return t.split("\\\\").join(N).split("\\{").join(C).split("\\}").join(T).split("\\,").join(G).split("\\.").join(D)}(t),!0).map(M)},N="\0SLASH"+Math.random()+"\0",C="\0OPEN"+Math.random()+"\0",T="\0CLOSE"+Math.random()+"\0",G="\0COMMA"+Math.random()+"\0",D="\0PERIOD"+Math.random()+"\0";function F(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function M(t){return t.split(N).join("\\").split(C).join("{").split(T).join("}").split(G).join(",").split(D).join(".")}function $(t){return"{"+t+"}"}function q(t){return/^-?0\d/.test(t)}function B(t,e){return t<=e}function Q(t,e){return t>=e}var U=et;et.Minimatch=rt;var z={sep:"/"};try{z=c}catch(t){}var V=et.GLOBSTAR=rt.GLOBSTAR={},Z={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},W="[^/]",Y=W+"*?",K="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",H="(?:(?!(?:\\/|^)\\.).)*?",J="().*{}+?[]^$\\!".split("").reduce(function(t,e){return t[e]=!0,t},{});var X=/\/+/;function tt(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),Object.keys(t).forEach(function(e){r[e]=t[e]}),r}function et(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new rt(e,r).match(t))}function rt(t,e){if(!(this instanceof rt))return new rt(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==z.sep&&(t=t.split(z.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function nt(t,e){if(e||(e=this instanceof rt?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:R(t)}et.filter=function(t,e){return e=e||{},function(r,n,i){return et(r,t,e)}},et.defaults=function(t){if(!t||!Object.keys(t).length)return et;var e=et,r=function(r,n,i){return e.minimatch(r,n,tt(t,i))};return r.Minimatch=function(r,n){return new e.Minimatch(r,tt(t,n))},r},rt.defaults=function(t){return t&&Object.keys(t).length?et.defaults(t).Minimatch:rt},rt.prototype.debug=function(){},rt.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map(function(t){return t.split(X)}),this.debug(this.pattern,r),r=r.map(function(t,e,r){return t.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,r),this.set=r},rt.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=this.options,n=0;if(r.nonegate)return;for(var i=0,o=t.length;i<o&&"!"===t.charAt(i);i++)e=!e,n++;n&&(this.pattern=t.substr(n));this.negate=e},et.braceExpand=function(t,e){return nt(t,e)},rt.prototype.braceExpand=nt,rt.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return V;if(""===t)return"";var n,i="",o=!!r.nocase,a=!1,s=[],c=[],h=!1,u=-1,l=-1,f="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function d(){if(n){switch(n){case"*":i+=Y,o=!0;break;case"?":i+=W,o=!0;break;default:i+="\\"+n}p.debug("clearStateChar %j %j",n,i),n=!1}}for(var g,v=0,y=t.length;v<y&&(g=t.charAt(v));v++)if(this.debug("%s\t%s %s %j",t,v,i,g),a&&J[g])i+="\\"+g,a=!1;else switch(g){case"/":return!1;case"\\":d(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,v,i,g),h){this.debug("  in class"),"!"===g&&v===l+1&&(g="^"),i+=g;continue}p.debug("call clearStateChar %j",n),d(),n=g,r.noext&&d();continue;case"(":if(h){i+="(";continue}if(!n){i+="\\(";continue}s.push({type:n,start:v-1,reStart:i.length,open:Z[n].open,close:Z[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,i),n=!1;continue;case")":if(h||!s.length){i+="\\)";continue}d(),o=!0;var m=s.pop();i+=m.close,"!"===m.type&&c.push(m),m.reEnd=i.length;continue;case"|":if(h||!s.length||a){i+="\\|",a=!1;continue}d(),i+="|";continue;case"[":if(d(),h){i+="\\"+g;continue}h=!0,l=v,u=i.length,i+=g;continue;case"]":if(v===l+1||!h){i+="\\"+g,a=!1;continue}if(h)var b,w=t.substring(l+1,v);o=!0,h=!1,i+=g;continue;default:d(),a?a=!1:!J[g]||"^"===g&&h||(i+="\\"),i+=g}h&&(w=t.substr(l+1),b=this.parse(w,it),i=i.substr(0,u)+"\\["+b[0],o=o||b[1]);for(m=s.pop();m;m=s.pop()){var O=i.slice(m.reStart+m.open.length);this.debug("setting tail",i,m),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,r){return r||(r="\\"),e+e+r+"|"}),this.debug("tail=%j\n   %s",O,O,m,i);var _="*"===m.type?Y:"?"===m.type?W:"\\"+m.type;o=!0,i=i.slice(0,m.reStart)+_+"\\("+O}d(),a&&(i+="\\\\");var E=!1;switch(i.charAt(0)){case".":case"[":case"(":E=!0}for(var k=c.length-1;k>-1;k--){var j=c[k],x=i.slice(0,j.reStart),S=i.slice(j.reStart,j.reEnd-8),A=i.slice(j.reEnd-8,j.reEnd),L=i.slice(j.reEnd);A+=L;var P=x.split("(").length-1,I=L;for(v=0;v<P;v++)I=I.replace(/\)[+*?]?/,"");var R="";""===(L=I)&&e!==it&&(R="$");var N=x+S+L+R+A;i=N}""!==i&&o&&(i="(?=.)"+i);E&&(i=f+i);if(e===it)return[i,o];if(!o)return t.replace(/\\(.)/g,"$1");var C=r.nocase?"i":"";try{var T=new RegExp("^"+i+"$",C)}catch(t){return new RegExp("$.")}return T._glob=t,T._src=i,T};var it={};et.makeRe=function(t,e){return new rt(t,e||{}).makeRe()},rt.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?Y:e.dot?K:H,n=e.nocase?"i":"",i=t.map(function(t){return t.map(function(t){return t===V?r:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(t){this.regexp=!1}return this.regexp},et.match=function(t,e,r){var n=new rt(e,r=r||{});return t=t.filter(function(t){return n.match(t)}),n.options.nonull&&!t.length&&t.push(e),t},rt.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==z.sep&&(t=t.split(z.sep).join("/"));t=t.split(X),this.debug(this.pattern,"split",t);var n,i,o=this.set;for(this.debug(this.pattern,"set",o),i=t.length-1;i>=0&&!(n=t[i]);i--);for(i=0;i<o.length;i++){var a=o[i],s=t;r.matchBase&&1===a.length&&(s=[n]);var c=this.matchOne(s,a,e);if(c)return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},rt.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,a=t.length,s=e.length;i<a&&o<s;i++,o++){this.debug("matchOne loop");var c,h=e[o],u=t[i];if(this.debug(e,h,u),!1===h)return!1;if(h===V){this.debug("GLOBSTAR",[e,h,u]);var l=i,f=o+1;if(f===s){for(this.debug("** at the end");i<a;i++)if("."===t[i]||".."===t[i]||!n.dot&&"."===t[i].charAt(0))return!1;return!0}for(;l<a;){var p=t[l];if(this.debug("\nglobstar while",t,l,e,f,p),this.matchOne(t.slice(l),e.slice(f),r))return this.debug("globstar found match!",l,a,p),!0;if("."===p||".."===p||!n.dot&&"."===p.charAt(0)){this.debug("dot detected!",t,l,e,f);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!r||(this.debug("\n>>> no match, partial?",t,l,e,f),l!==a))}if("string"==typeof h?(c=n.nocase?u.toLowerCase()===h.toLowerCase():u===h,this.debug("string match",h,u,c)):(c=u.match(h),this.debug("pattern match",h,u,c)),!c)return!1}if(i===a&&o===s)return!0;if(i===a)return r;if(o===s)return i===a-1&&""===t[i];throw new Error("wtf?")};var ot=l(function(t){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}});function at(t){return"/"===t.charAt(0)}function st(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),r=e[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(e[2]||n)}var ct="win32"===process.platform?st:at,ht=at,ut=st;ct.posix=ht,ct.win32=ut;var lt=Et,ft=_t,pt=function(t,e,r){r||(r={});if(r.matchBase&&-1===e.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=!1!==r.strict,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0);t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]);t.ignore.length&&(t.ignore=t.ignore.map(kt))}(t,r),t.changedCwd=!1;var n=process.cwd();wt(r,"cwd")?(t.cwd=c.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n;t.root=r.root||c.resolve(t.cwd,"/"),t.root=c.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/"));t.cwdAbs=ct(t.cwd)?t.cwd:jt(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/"));t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new Ot(e,r),t.options=t.minimatch.options},dt=wt,gt=jt,vt=function(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var o=t.matches[n];if(o&&0!==Object.keys(o).length){var a=Object.keys(o);e?r.push.apply(r,a):a.forEach(function(t){r[t]=!0})}else if(t.nonull){var s=t.minimatch.globSet[n];e?r.push(s):r[s]=!0}}e||(r=Object.keys(r));t.nosort||(r=r.sort(t.nocase?_t:Et));if(t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(e){var r=!/\/$/.test(e),n=t.cache[e]||t.cache[jt(t,e)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r}))}t.ignore.length&&(r=r.filter(function(e){return!xt(t,e)}));t.found=r},yt=function(t,e){var r=jt(t,e),n=t.cache[r],i=e;if(n){var o="DIR"===n||Array.isArray(n),a="/"===e.slice(-1);if(o&&!a?i+="/":!o&&a&&(i=i.slice(0,-1)),i!==e){var s=jt(t,i);t.statCache[s]=t.statCache[r],t.cache[s]=t.cache[r]}}return i},mt=xt,bt=function(t,e){return!!t.ignore.length&&t.ignore.some(function(t){return!(!t.gmatcher||!t.gmatcher.match(e))})};function wt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Ot=U.Minimatch;function _t(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function Et(t,e){return t.localeCompare(e)}function kt(t){var e=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");e=new Ot(r,{dot:!0})}return{matcher:new Ot(t,{dot:!0}),gmatcher:e}}function jt(t,e){var r=e;return r="/"===e.charAt(0)?c.join(t.root,e):ct(e)||""===e?e:t.changedCwd?c.resolve(t.cwd,e):c.resolve(e),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function xt(t,e){return!!t.ignore.length&&t.ignore.some(function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))})}var St={alphasort:lt,alphasorti:ft,setopts:pt,ownProp:dt,makeAbs:gt,finish:vt,mark:yt,isIgnored:mt,childrenIgnored:bt},At=Nt;Nt.GlobSync=Ct;var Lt=St.setopts,Pt=St.ownProp,It=St.childrenIgnored,Rt=St.isIgnored;function Nt(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new Ct(t,e).found}function Ct(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof Ct))return new Ct(t,e);if(Lt(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Ct.prototype._finish=function(){if(e(this instanceof Ct),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i),n[m.realpathSync(i,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;n[t._makeAbs(i)]=!0}})}St.finish(this)},Ct.prototype._process=function(t,r,n){e(this instanceof Ct);for(var i,o=0;"string"==typeof t[o];)o++;switch(o){case t.length:return void this._processSimple(t.join("/"),r);case 0:i=null;break;default:i=t.slice(0,o).join("/")}var a,s=t.slice(o);null===i?a=".":ct(i)||ct(t.join("/"))?(i&&ct(i)||(i="/"+i),a=i):a=i;var c=this._makeAbs(a);It(this,a)||(s[0]===U.GLOBSTAR?this._processGlobStar(i,a,c,s,r,n):this._processReaddir(i,a,c,s,r,n))},Ct.prototype._processReaddir=function(t,e,r,n,i,o){var a=this._readdir(r,o);if(a){for(var s=n[0],h=!!this.minimatch.negate,u=s._glob,l=this.dot||"."===u.charAt(0),f=[],p=0;p<a.length;p++){if("."!==(v=a[p]).charAt(0)||l)(h&&!t?!v.match(s):v.match(s))&&f.push(v)}var d=f.length;if(0!==d)if(1!==n.length||this.mark||this.stat){n.shift();for(p=0;p<d;p++){var g;v=f[p];g=t?[t,v]:[v],this._process(g.concat(n),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<d;p++){var v=f[p];t&&(v="/"!==t.slice(-1)?t+"/"+v:t+v),"/"!==v.charAt(0)||this.nomount||(v=c.join(this.root,v)),this._emitMatch(i,v)}}}},Ct.prototype._emitMatch=function(t,e){if(!Rt(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},Ct.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=o.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,n||!r||r.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},Ct.prototype._readdir=function(t,e){if(e&&!Pt(this.symlinks,t))return this._readdirInGlobStar(t);if(Pt(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,o.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},Ct.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];n="/"===t?t+n:t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e},Ct.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},Ct.prototype._processGlobStar=function(t,e,r,n,i,o){var a=this._readdir(r,o);if(a){var s=n.slice(1),c=t?[t]:[],h=c.concat(s);this._process(h,i,!1);var u=a.length;if(!this.symlinks[r]||!o)for(var l=0;l<u;l++){if("."!==a[l].charAt(0)||this.dot){var f=c.concat(a[l],s);this._process(f,i,!0);var p=c.concat(a[l],n);this._process(p,i,!0)}}}},Ct.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),r){if(t&&ct(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=c.join(this.root,t):(t=c.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},Ct.prototype._stat=function(t){var e=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&Pt(this.cache,e)){var n=this.cache[e];if(Array.isArray(n)&&(n="DIR"),!r||"DIR"===n)return n;if(r&&"FILE"===n)return!1}var i=this.statCache[e];if(!i){var a;try{a=o.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(a&&a.isSymbolicLink())try{i=o.statSync(e)}catch(t){i=a}else i=a}this.statCache[e]=i;n=!0;return i&&(n=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||n,(!r||"FILE"!==n)&&n},Ct.prototype._mark=function(t){return St.mark(this,t)},Ct.prototype._makeAbs=function(t){return St.makeAbs(this,t)};var Tt=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");Object.keys(e).forEach(function(t){n[t]=e[t]});return n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(t){n[t]=i[t]}),n}};var Gt=Tt(Ft),Dt=Tt(Mt);function Ft(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Mt(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}Ft.proto=Ft(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ft(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Mt(this)},configurable:!0})}),Gt.strict=Dt;var $t=Object.create(null),qt=Tt(function(t,e){return $t[t]?($t[t].push(e),null):($t[t]=[e],function(t){return Gt(function e(){var r=$t[t],n=r.length,i=function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}(arguments);try{for(var o=0;o<n;o++)r[o].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete $t[t]}})}(t))});var Bt=Wt,Qt=n.EventEmitter,Ut=St.setopts,zt=St.ownProp,Vt=St.childrenIgnored,Zt=St.isIgnored;function Wt(t,e,r){if("function"==typeof e&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return At(t,e)}return new Kt(t,e,r)}Wt.sync=At;var Yt=Wt.GlobSync=At.GlobSync;function Kt(t,e,r){if("function"==typeof e&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new Yt(t,e)}if(!(this instanceof Kt))return new Kt(t,e,r);Ut(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=Gt(r),this.on("error",r),this.on("end",function(t){r(null,t)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return s();for(var o=!0,a=0;a<n;a++)this._process(this.minimatch.set[a],a,!1,s);function s(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}o=!1}Wt.glob=Wt,Wt.hasMagic=function(t,e){var r=function(t,e){if(null===e||"object"!=typeof e)return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}({},e);r.noprocess=!0;var n=new Kt(t,r).minimatch.set;if(!t)return!1;if(n.length>1)return!0;for(var i=0;i<n[0].length;i++)if("string"!=typeof n[0][i])return!0;return!1},Wt.Glob=Kt,ot(Kt,Qt),Kt.prototype._finish=function(){if(e(this instanceof Kt),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();St.finish(this),this.emit("end",this.found)}},Kt.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--t&&e._finish()}},Kt.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,o=n.length;if(0===o)return e();var a=this.matches[t]=Object.create(null);n.forEach(function(r,n){r=i._makeAbs(r),m.realpath(r,i.realpathCache,function(n,s){n?"stat"===n.syscall?a[r]=!0:i.emit("error",n):a[s]=!0,0==--o&&(i.matches[t]=a,e())})})},Kt.prototype._mark=function(t){return St.mark(this,t)},Kt.prototype._makeAbs=function(t){return St.makeAbs(this,t)},Kt.prototype.abort=function(){this.aborted=!0,this.emit("abort")},Kt.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},Kt.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},Kt.prototype._process=function(t,r,n,i){if(e(this instanceof Kt),e("function"==typeof i),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,r,n,i]);else{for(var o,a=0;"string"==typeof t[a];)a++;switch(a){case t.length:return void this._processSimple(t.join("/"),r,i);case 0:o=null;break;default:o=t.slice(0,a).join("/")}var s,c=t.slice(a);null===o?s=".":ct(o)||ct(t.join("/"))?(o&&ct(o)||(o="/"+o),s=o):s=o;var h=this._makeAbs(s);if(Vt(this,s))return i();c[0]===U.GLOBSTAR?this._processGlobStar(o,s,h,c,r,n,i):this._processReaddir(o,s,h,c,r,n,i)}},Kt.prototype._processReaddir=function(t,e,r,n,i,o,a){var s=this;this._readdir(r,o,function(c,h){return s._processReaddir2(t,e,r,n,i,o,h,a)})},Kt.prototype._processReaddir2=function(t,e,r,n,i,o,a,s){if(!a)return s();for(var h=n[0],u=!!this.minimatch.negate,l=h._glob,f=this.dot||"."===l.charAt(0),p=[],d=0;d<a.length;d++){if("."!==(v=a[d]).charAt(0)||f)(u&&!t?!v.match(h):v.match(h))&&p.push(v)}var g=p.length;if(0===g)return s();if(1===n.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(d=0;d<g;d++){var v=p[d];t&&(v="/"!==t?t+"/"+v:t+v),"/"!==v.charAt(0)||this.nomount||(v=c.join(this.root,v)),this._emitMatch(i,v)}return s()}n.shift();for(d=0;d<g;d++){v=p[d];t&&(v="/"!==t?t+"/"+v:t+v),this._process([v].concat(n),i,o,s)}s()},Kt.prototype._emitMatch=function(t,e){if(!this.aborted&&!Zt(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var r=ct(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}},Kt.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r=this,n=qt("lstat\0"+t,function(n,i){if(n&&"ENOENT"===n.code)return e();var o=i&&i.isSymbolicLink();r.symlinks[t]=o,o||!i||i.isDirectory()?r._readdir(t,!1,e):(r.cache[t]="FILE",e())});n&&o.lstat(t,n)}},Kt.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=qt("readdir\0"+t+"\0"+e,r))){if(e&&!zt(this.symlinks,t))return this._readdirInGlobStar(t,r);if(zt(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return r();if(Array.isArray(n))return r(null,n)}o.readdir(t,function(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}(this,t,r))}},Kt.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}},Kt.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return r()}},Kt.prototype._processGlobStar=function(t,e,r,n,i,o,a){var s=this;this._readdir(r,o,function(c,h){s._processGlobStar2(t,e,r,n,i,o,h,a)})},Kt.prototype._processGlobStar2=function(t,e,r,n,i,o,a,s){if(!a)return s();var c=n.slice(1),h=t?[t]:[],u=h.concat(c);this._process(u,i,!1,s);var l=this.symlinks[r],f=a.length;if(l&&o)return s();for(var p=0;p<f;p++){if("."!==a[p].charAt(0)||this.dot){var d=h.concat(a[p],c);this._process(d,i,!0,s);var g=h.concat(a[p],n);this._process(g,i,!0,s)}}s()},Kt.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,o){n._processSimple2(t,e,i,o,r)})},Kt.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&ct(t)&&!this.nomount){var o=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=c.join(this.root,t):(t=c.resolve(this.root,t),o&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()},Kt.prototype._stat=function(t,e){var r=this._makeAbs(t),n="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&zt(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return e(null,i);if(n&&"FILE"===i)return e()}var a=this.statCache[r];if(void 0!==a){if(!1===a)return e(null,a);var s=a.isDirectory()?"DIR":"FILE";return n&&"FILE"===s?e():e(null,s,a)}var c=this,h=qt("stat\0"+r,function(n,i){if(i&&i.isSymbolicLink())return o.stat(r,function(n,o){n?c._stat2(t,r,null,i,e):c._stat2(t,r,n,o,e)});c._stat2(t,r,n,i,e)});h&&o.lstat(r,h)},Kt.prototype._stat2=function(t,e,r,n,i){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[e]=!1,i();var o="/"===t.slice(-1);if(this.statCache[e]=n,"/"===e.slice(-1)&&n&&!n.isDirectory())return i(null,!1,n);var a=!0;return n&&(a=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||a,o&&"FILE"===a?i():i(null,a,n)};var Ht=Object.create(je),Jt=Object.assign,Xt=Boolean(process.versions.electron),te={fatal:!1,globOptions:{},maxdepth:255,noglob:!1,silent:!1,verbose:!1,execPath:null,bufLength:65536},ee={reset:function(){Object.assign(this,te),Xt||(this.execPath=process.execPath)},resetForTesting:function(){this.reset(),this.silent=!0}};ee.reset();var re=ee,ne={error:null,errorCode:0,currentCmd:"shell.js"},ie=ne;function oe(t){return"object"==typeof t&&null!==t}delete process.env.OLDPWD;var ae=oe;function se(){ee.silent||console.error.apply(console,arguments)}var ce=se;function he(t){if("string"!=typeof t)throw new TypeError("input must be a string");return t.replace(/\\/g,"/")}var ue=he;function le(t,e,r){if("string"!=typeof t)throw new Error("msg must be a string");var n={continue:!1,code:1,prefix:ne.currentCmd+": ",silent:!1};"number"==typeof e&&oe(r)?r.code=e:oe(e)?r=e:"number"==typeof e?r={code:e}:"number"!=typeof e&&(r={}),r=Object.assign({},n,r),ne.errorCode||(ne.errorCode=r.code);var i=he(r.prefix+t);if(ne.error=ne.error?ne.error+"\n":"",ne.error+=i,ee.fatal)throw new Error(i);if(t.length>0&&!r.silent&&se(i),!r.continue)throw{msg:"earlyExit",retValue:new pe("",ne.error,ne.errorCode)}}var fe=le;function pe(t,e,r){var n;return t instanceof Array?((n=t).stdout=t.join("\n"),t.length>0&&(n.stdout+="\n")):(n=new String(t)).stdout=t,n.stderr=e,n.code=r,_e.forEach(function(t){n[t]=Ht[t].bind(n)}),n}var de=pe;function ge(t,e,r){if("string"!=typeof t&&!oe(t))throw new Error("options must be strings or key-value pairs");if(!oe(e))throw new Error("parseOptions() internal error: map must be an object");if(r&&!oe(r))throw new Error("parseOptions() internal error: errorOptions must be object");if("--"===t)return{};var n={};if(Object.keys(e).forEach(function(t){var r=e[t];"!"!==r[0]&&(n[r]=!1)}),""===t)return n;if("string"==typeof t){if("-"!==t[0])throw new Error("Options string must start with a '-'");t.slice(1).split("").forEach(function(t){if(t in e){var i=e[t];"!"===i[0]?n[i.slice(1)]=!1:n[i]=!0}else le("option not recognized: "+t,r||{})})}else Object.keys(t).forEach(function(i){var o=i[1];if(o in e){var a=e[o];n[a]=t[i]}else le("option not recognized: "+o,r||{})});return n}var ve=ge;function ye(t){if(!Array.isArray(t))throw new TypeError("must be an array");var e=[];return t.forEach(function(t){if("string"!=typeof t)e.push(t);else{var r;try{r=(r=Bt.sync(t,ee.globOptions)).length>0?r:[t]}catch(e){r=[t]}e=e.concat(r)}}),e}var me=ye,be="function"==typeof Buffer.alloc?function(t){return Buffer.alloc(t||ee.bufLength)}:function(t){return new Buffer(t||ee.bufLength)};function we(t,e,r){return r=r||{},function(){var n=null;ne.currentCmd=t,ne.error=null,ne.errorCode=0;try{var i=[].slice.call(arguments,0);if(ee.verbose&&console.error.apply(console,[t].concat(i)),ne.pipedValue=this&&"string"==typeof this.stdout?this.stdout:"",!1===r.unix)n=e.apply(this,i);else{oe(i[0])&&"Object"===i[0].constructor.name||(0===i.length||"string"!=typeof i[0]||i[0].length<=1||"-"!==i[0][0])&&i.unshift(""),i=(i=i.reduce(function(t,e){return Array.isArray(e)?t.concat(e):(t.push(e),t)},[])).map(function(t){return oe(t)&&"String"===t.constructor.name?t.toString():t});var o=a.homedir();i=i.map(function(t){return"string"==typeof t&&"~/"===t.slice(0,2)||"~"===t?t.replace(/^~/,o):t}),ee.noglob||!0!==r.allowGlobbing||(i=i.slice(0,r.globStart).concat(ye(i.slice(r.globStart))));try{oe(r.cmdOptions)&&(i[0]=ge(i[0],r.cmdOptions)),n=e.apply(this,i)}catch(t){if("earlyExit"!==t.msg)throw t;n=t.retValue}}}catch(t){if(!ne.error)throw t.name="ShellJSInternalError",t;if(ee.fatal)throw t}return r.wrapOutput&&("string"==typeof n||Array.isArray(n))&&(n=new pe(n,ne.error,ne.errorCode)),ne.currentCmd="shell.js",n}}var Oe={allowGlobbing:!0,canReceivePipe:!1,cmdOptions:null,globStart:1,pipeOnly:!1,wrapOutput:!0,unix:!0},_e=[];var Ee={extend:Jt,config:re,state:ie,isObject:ae,log:ce,convertErrorOutput:ue,error:fe,ShellString:de,parseOptions:ve,expand:me,buffer:be,unlinkSync:function(t){try{o.unlinkSync(t)}catch(e){if("EPERM"!==e.code)throw e;o.chmodSync(t,"0666"),o.unlinkSync(t)}},statFollowLinks:function(){return o.statSync.apply(o,arguments)},statNoFollowLinks:function(){return o.lstatSync.apply(o,arguments)},randomFileName:function(){return"shelljs_"+function t(e){if(1===e)return parseInt(16*Math.random(),10).toString(16);for(var r="",n=0;n<e;n++)r+=t(1);return r}(20)},wrap:we,readFromPipe:function(){return ne.pipedValue},register:function(t,e,r){if(r=r||{},Object.keys(r).forEach(function(t){if(!Oe.hasOwnProperty(t))throw new Error("Unknown option '"+t+"'");if(typeof r[t]!=typeof Oe[t])throw new TypeError("Unsupported type '"+typeof r[t]+"' for option '"+t+"'")}),r=Object.assign({},Oe,r),je[t])throw new Error("Command `"+t+"` already exists");r.pipeOnly?(r.canReceivePipe=!0,Ht[t]=we(t,e,r)):je[t]=we(t,e,r),r.canReceivePipe&&_e.push(t)}};var ke=function(){return Ee.state.error};["cat","cd","chmod","cp","dirs","echo","exec","find","grep","head","ln","ls","mkdir","mv","pwd","rm","sed","set","sort","tail","tempdir","test","to","toEnd","touch","uniq","which"].forEach(function(t){!function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}()});var je={exit:process.exit,error:ke,ShellString:Ee.ShellString,env:process.env,config:Ee.config},xe=function(t,e){return new Promise(function(r){je.exec(t,u({silent:!0},e),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r({code:t,output:e.trim(),err:n.trim()})})})},Se=function(t){return xe(t).then(function(t){return 0===t.code})},Ae=l(function(t){!function(e){var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",h=e.regeneratorRuntime;if(h)t.exports=h;else{(h=e.regeneratorRuntime=t.exports).wrap=b;var u="suspendedStart",l="suspendedYield",f="executing",p="completed",d={},g={};g[a]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(P([])));y&&y!==n&&i.call(y,a)&&(g=y);var m=E.prototype=O.prototype=Object.create(g);_.prototype=m.constructor=E,E.constructor=_,E[c]=_.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(m),t},h.awrap=function(t){return{__await:t}},k(j.prototype),j.prototype[s]=function(){return this},h.AsyncIterator=j,h.async=function(t,e,r,n){var i=new j(b(t,e,r,n));return h.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},k(m),m[c]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},h.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},h.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),h=i.call(a,"finallyLoc");if(c&&h){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),d}}}function b(t,e,r,n){var i=e&&e.prototype instanceof O?e:O,o=Object.create(i.prototype),a=new L(n||[]);return o._invoke=function(t,e,r){var n=u;return function(i,o){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=x(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===u)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var c=w(t,e,r);if("normal"===c.type){if(n=r.done?p:l,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=p,r.method="throw",r.arg=c.arg)}}}(t,r,a),o}function w(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function O(){}function _(){}function E(){}function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function j(t){var e;this._invoke=function(r,n){function o(){return new Promise(function(e,o){!function e(r,n,o,a){var s=w(t[r],t,n);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"==typeof h&&i.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(h).then(function(t){c.value=t,o(c)},function(t){return e("throw",t,o,a)})}a(s.arg)}(r,n,e,o)})}return e=e?e.then(o,o):o()}}function x(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,x(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=w(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())}),Le=function(){return this||"object"==typeof self&&self}()||Function("return this")(),Pe=Le.regeneratorRuntime&&Object.getOwnPropertyNames(Le).indexOf("regeneratorRuntime")>=0,Ie=Pe&&Le.regeneratorRuntime;Le.regeneratorRuntime=void 0;var Re=Ae;if(Pe)Le.regeneratorRuntime=Ie;else try{delete Le.regeneratorRuntime}catch(t){Le.regeneratorRuntime=void 0}var Ne=Re;function Ce(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}var Te=function(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Ce(o,n,i,a,s,"next",t)}function s(t){Ce(o,n,i,a,s,"throw",t)}a(void 0)})}},Ge=function(t){return new Promise(function(e){o.stat(t,function(t){e(null==t)})})},De={Clone:function(){var t=Te(Ne.mark(function t(e,r){var n,o;return Ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.basename(e).split(".")[0],o=i.join(r,n),t.next=4,Ge(o);case 4:if(!t.sent){t.next=6;break}return t.abrupt("return",xe("cd ".concat(o," && git fetch --all && git reset --hard origin/master")).then(function(t){return u({},t,{targetPath:o})}));case 6:return t.abrupt("return",xe("git clone ".concat(e," ").concat(o)).then(function(t){return u({},t,{targetPath:o})}));case 7:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()};t.CheckPackageInstall=Se,t.CheckYarnInstall=function(){return Se("yarnpkg --version")},t.CheckNpmInstall=function(){return Se("npm --version")},t.Shell=je,t.Exec=xe,t.Git=De,Object.defineProperty(t,"__esModule",{value:!0})});
